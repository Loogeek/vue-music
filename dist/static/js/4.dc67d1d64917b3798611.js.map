{"version":3,"sources":["webpack:///static/js/4.dc67d1d64917b3798611.js","webpack:///./src/containers/singer/index.vue","webpack:///index.vue?62f7","webpack:///./src/containers/singer/index.vue?cdcb","webpack:///./src/containers/singer/index.vue?0997","webpack:///./src/containers/singer/index.vue?cfcf"],"names":["webpackJsonp","528","module","exports","__webpack_require__","injectStyle","ssrContext","Component","554","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_2_vuex__","__WEBPACK_IMPORTED_MODULE_3_components_Scroll__","__WEBPACK_IMPORTED_MODULE_3_components_Scroll___default","__WEBPACK_IMPORTED_MODULE_4_components_Loading__","__WEBPACK_IMPORTED_MODULE_4_components_Loading___default","data","currentIndex","scrollY","listTitleDiff","listGroupHeight","created","this","touches","mounted","fetchSingerList","computed","alphabetName","singerList","map","item","title","slice","listTopTitle","i","methods","handleTouchStart","e","startIndex","parseInt","target","dataset","index","startY","pageY","_scrollToElement","handleTouchMove","moveY","Math","floor","changeIndex","length","handleScroll","pos","y","setCurrentSinger","singerItem","targetDOM","$refs","listGroup","singerScroll","scrollToElement","_calculateHeight","height","_listGroupHeight","concat","clientHeight","push","watch","_this","$nextTick","len","height1","height2","newValue","listTitle","diffY","style","webkitTransform","components","Scroll","a","Loading","563","version","sources","names","mappings","file","sourcesContent","sourceRoot","573","content","locals","589","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","listenScroll","probeType","on","onScroll","_l","singer","key","refInFor","_v","_s","click","$event","to","directives","name","rawName","expression","touchstart","touchmove","stopPropagation","preventDefault","class","current","data-index","_e","staticRenderFns"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAASC,GCHjC,QAAAC,GAAAC,GACAF,EAAA,KAEA,GAAAG,GAAAH,EAAA,IAEAA,EAAA,KAEAA,EAAA,KAEAC,EAEA,kBAEA,KAGAH,GAAAC,QAAAI,EAAAJ,SDUMK,IACA,SAAUN,EAAQO,EAAqBL,GAE7C,YACAM,QAAOC,eAAeF,EAAqB,cAAgBG,OAAO,GAC7C,IAAIC,GAAwET,EAAoB,KAC5FU,EAAgFV,EAAoBW,EAAEF,GACtGG,EAA8DZ,EAAoB,IAClFa,EAAsEb,EAAoBW,EAAEC,GAC5FE,EAAqCd,EAAoB,KACzDe,EAAkDf,EAAoB,KACtEgB,EAA0DhB,EAAoBW,EAAEI,GAChFE,EAAmDjB,EAAoB,KACvEkB,EAA2DlB,EAAoBW,EAAEM,EEH1GZ,GAAA,SFgBIc,KAAM,WACF,OACIC,aEdZ,EFeYC,QEdZ,EFeYC,cEdZ,EFeYC,qBAGRC,QAAS,WACLC,KAAKC,YAETC,QAAS,WACLF,KEdRG,mBAEAC,SAAAhB,KFgBQiB,aAAc,WACV,MAAOL,MAAKM,WAAWC,IAAI,SAAUC,GACjC,MAAOA,GAAKC,MAAMC,MAAM,EEhBxC,MFmBQC,aAAc,WACV,KAAIX,KAAKJ,QAAU,GAGnB,MAAOI,MAAKM,WAAWN,KAAKL,eAAiBK,KAAKM,WAAWN,KAAKL,cEjB9Ec,QFmBOlC,EAAoBqC,EAAEvB,EAAuD,IEdpF,gBACAwB,QAAAzB,KFeQ0B,iBAAkB,SAA0BC,GACxCf,KAAKC,QAAQe,WAAaC,SAASF,EAAEG,OAAOC,QEdxDC,OFeYpB,KAAKC,QAAQoB,OAASN,EAAEd,QAAQ,GEd5CqB,MFeYtB,KAAKL,aAAeK,KAAKC,QEdrCe,WFeYhB,KEdZuB,oBFgBQC,gBAAiB,SAAyBT,GACtC,GAAIU,GAAQC,KAAKC,OAAOZ,EAAEd,QAAQ,GAAGqB,MAAQtB,KAAKC,QAAQoB,QEvDtE,IFwDgBO,EAAc5B,KAAKC,QAAQe,WEb3CS,CFegBG,GAAc,EACdA,EEdhB,EFeuBA,EAAc5B,KAAKM,WAAWuB,OAAS,IAC9CD,EAAc5B,KAAKM,WAAWuB,OEd9C,GFiBY7B,KAAKL,aEdjBiC,EFeY5B,KEdZuB,oBFgBQO,aAAc,SAAsBC,GAChC/B,KAAKJ,SAAWmC,EEd5BC,GFgBQC,iBAAkB,SAA0BC,GACxClC,KAAKiC,iBEdjBC,IFgBQX,iBAAkB,WACd,GAAIY,GAAYnC,KAAKoC,MAAMC,UAAUrC,KEdjDL,aFeYK,MAAKoC,MAAME,aAAaC,gBAAgBJ,EEdpD,IFgBQK,iBAAkB,WACd,GAAIC,GEdhB,EFegBC,GEbhB,MFeeC,OAAO1D,IAAgFe,KAAKoC,MAAMC,YAAY9B,IAAI,SAAUC,GAC3HiC,GAAkBjC,EEdlCoC,aFegBF,EAAiBG,KEdjCJ,KFgBYzC,KAAKF,gBEdjB4C,IFgBOnE,EAAoBqC,EAAEvB,EAAuD,IEZpF,oBAAAd,EAAAqC,EAAAvB,EAAA,IFaQ4C,iBETR,wBFWIa,OACIxC,WAAY,WEVpB,GAAAyC,GAAA/C,IFaYA,MAAKgD,UAAU,WACXD,EEZhBP,sBFeQ5C,QAAS,WACL,IAAK,GAAIgB,GAAI,EAAGqC,EAAMjD,KAAKF,gBAAgB+B,OAAQjB,EAAIqC,EAAKrC,IEZxE,CFagB,GAAIsC,GAAUlD,KAAKF,gBEZnCc,GFaoBuC,EAAUnD,KAAKF,gBAAgBc,EEXnD,EFagB,IAAIZ,KAAKJ,SAAWsD,GAAWlD,KAAKJ,QAAUuD,EEZ9D,CFaoBnD,KAAKL,aEZzBiB,EFaoBZ,KAAKH,cAAgBsD,EAAUnD,KEZnDJ,OACA,UFgBQC,cAAe,SAAuBuD,GAClC,GAAIpD,KAAKoC,MAAMiB,UEZ3B,CFagB,GAAIC,GAAQF,EAAW,GAAKA,EE/G5C,GF+G+EA,EE/G/E,GAmGA,CFagBpD,MAAKoC,MAAMiB,UAAUE,MAAMC,gBAAkB,cEZ7DF,EAAA,SFgBIG,YEXJC,OAAAnE,EAAAoE,EAEAC,QAAAnE,EAAAkE,KFiBME,IACA,SAAUxF,EAAQC,EAASC,GG/JjCD,EAAAD,EAAAC,QAAAC,EAAA,SAKAD,EAAAuE,MAAAxE,EAAAuC,EAAA,44CAAm6C,IAAQkD,QAAA,EAAAC,SAAA,8EAAAC,SAAAC,SAAA,6vBAAAC,KAAA,YAAAC,gBAAA,o/DAA44FC,WAAA,OHwKjzIC,IACA,SAAUhG,EAAQC,EAASC,GI3KjC,GAAA+F,GAAA/F,EAAA,IACA,iBAAA+F,SAAAjG,EAAAuC,EAAA0D,EAAA,MACAA,EAAAC,SAAAlG,EAAAC,QAAAgG,EAAAC,OAEAhG,GAAA,gBAAA+F,GAAA,IJoLME,IACA,SAAUnG,EAAQC,GK5LxBD,EAAAC,SAAgBmG,OAAA,WAAmB,GAAAC,GAAA1E,KAAa2E,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,WACAE,YAAA,WACGF,EAAA,UACHG,IAAA,eACAC,OACAvF,KAAAgF,EAAApE,WACA4E,cAAA,EACAC,UAAA,GAEAC,IACAC,SAAAX,EAAA5C,gBAEG+C,EAAA,KAAAH,EAAAY,GAAAZ,EAAA,oBAAAa,EAAAnE,GACH,MAAAyD,GAAA,MACAW,IAAApE,EACA4D,IAAA,YACAS,UAAA,EACAV,YAAA,gBACKF,EAAA,MACLE,YAAA,sBACKL,EAAAgB,GAAAhB,EAAAiB,GAAAJ,EAAA9E,UAAAiE,EAAAgB,GAAA,KAAAb,EAAA,MACLE,YAAA,oBACKL,EAAAY,GAAAC,EAAA,eAAA/E,EAAAY,GACL,MAAAyD,GAAA,MACAW,IAAApE,EACA2D,YAAA,wBACAK,IACAQ,MAAA,SAAAC,GACAnB,EAAAzC,iBAAAzB,OAGOqE,EAAA,eACPE,YAAA,YACAE,OACAa,GAAA,WAAAtF,EAAA,MAEOqE,EAAA,OACPkB,aACAC,KAAA,OACAC,QAAA,SACAlH,MAAAyB,EAAA,OACA0F,WAAA,gBAEAnB,YAAA,gBACOL,EAAAgB,GAAA,KAAAb,EAAA,QACPE,YAAA,cACOL,EAAAgB,GAAAhB,EAAAiB,GAAAnF,EAAAwF,YAAA,aAEJtB,EAAAgB,GAAA,KAAAb,EAAA,MACHE,YAAA,sBACAK,IACAe,WAAAzB,EAAA5D,iBACAsF,UAAA,SAAAP,GACAA,EAAAQ,kBACAR,EAAAS,iBACA5B,EAAAlD,gBAAAqE,MAGGnB,EAAAY,GAAAZ,EAAA,sBAAAlE,EAAAY,GACH,MAAAyD,GAAA,MACAW,IAAApE,EACAmF,OAAA,4BACAC,QAAA9B,EAAA/E,eAAAyB,IAEA6D,OACAwB,aAAArF,KAEKsD,EAAAgB,GAAA,iBAAAhB,EAAAiB,GAAAnF,GAAA,mBACFkE,EAAAgB,GAAA,KAAAhB,EAAA,aAAAG,EAAA,OACHG,IAAA,YACAD,YAAA,sBACGL,EAAAgB,GAAAhB,EAAAiB,GAAAjB,EAAA/D,iBAAA+D,EAAAgC,KAAAhC,EAAAgB,GAAA,SAAAhB,EAAApE,WAAAuB,OAAAgD,EAAA,WAAAH,EAAAgC,KAAAhC,EAAAgB,GAAA,KAAAb,EAAA,oBACF8B","file":"static/js/4.dc67d1d64917b3798611.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 528:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(573)\n}\nvar Component = __webpack_require__(19)(\n  /* script */\n  __webpack_require__(554),\n  /* template */\n  __webpack_require__(589),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-74fbf022\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 554:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(124);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(121);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_components_Scroll__ = __webpack_require__(122);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_components_Scroll___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_components_Scroll__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_components_Loading__ = __webpack_require__(190);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_components_Loading___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_components_Loading__);\n\n\n\n\n\n\n\n\nvar ALPHABET_ITEM_HEIGHT = 18;\nvar LIST_TOP_TITLE_HEIGHT = 30;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            currentIndex: 0,\n            scrollY: 0,\n            listTitleDiff: 0,\n            listGroupHeight: []\n        };\n    },\n    created: function created() {\n        this.touches = {};\n    },\n    mounted: function mounted() {\n        this.fetchSingerList();\n    },\n\n    computed: __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({\n        alphabetName: function alphabetName() {\n            return this.singerList.map(function (item) {\n                return item.title.slice(0, 1);\n            });\n        },\n        listTopTitle: function listTopTitle() {\n            if (this.scrollY < 0) {\n                return;\n            }\n            return this.singerList[this.currentIndex] && this.singerList[this.currentIndex].title;\n        }\n    }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"a\" /* mapGetters */])(['singerList'])),\n    methods: __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({\n        handleTouchStart: function handleTouchStart(e) {\n            this.touches.startIndex = parseInt(e.target.dataset.index);\n            this.touches.startY = e.touches[0].pageY;\n            this.currentIndex = this.touches.startIndex;\n            this._scrollToElement();\n        },\n        handleTouchMove: function handleTouchMove(e) {\n            var moveY = Math.floor((e.touches[0].pageY - this.touches.startY) / ALPHABET_ITEM_HEIGHT);\n            var changeIndex = this.touches.startIndex + moveY;\n\n            if (changeIndex < 0) {\n                changeIndex = 0;\n            } else if (changeIndex > this.singerList.length - 1) {\n                changeIndex = this.singerList.length - 1;\n            }\n\n            this.currentIndex = changeIndex;\n            this._scrollToElement();\n        },\n        handleScroll: function handleScroll(pos) {\n            this.scrollY = -pos.y;\n        },\n        setCurrentSinger: function setCurrentSinger(singerItem) {\n            this.setCurrentSinger(singerItem);\n        },\n        _scrollToElement: function _scrollToElement() {\n            var targetDOM = this.$refs.listGroup[this.currentIndex];\n            this.$refs.singerScroll.scrollToElement(targetDOM, 0);\n        },\n        _calculateHeight: function _calculateHeight() {\n            var height = 0;\n            var _listGroupHeight = [0];\n\n            [].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(this.$refs.listGroup)).map(function (item) {\n                height = height + item.clientHeight;\n                _listGroupHeight.push(height);\n            });\n            this.listGroupHeight = _listGroupHeight;\n        }\n    }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"d\" /* mapActions */])(['fetchSingerList']), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"b\" /* mapMutations */])({\n        setCurrentSinger: 'SET_CURRENT_SINGER'\n    })),\n    watch: {\n        singerList: function singerList() {\n            var _this = this;\n\n            this.$nextTick(function () {\n                _this._calculateHeight();\n            });\n        },\n        scrollY: function scrollY() {\n            for (var i = 0, len = this.listGroupHeight.length; i < len; i++) {\n                var height1 = this.listGroupHeight[i];\n                var height2 = this.listGroupHeight[i + 1];\n\n                if (this.scrollY >= height1 && this.scrollY < height2) {\n                    this.currentIndex = i;\n                    this.listTitleDiff = height2 - this.scrollY;\n                    break;\n                }\n            }\n        },\n        listTitleDiff: function listTitleDiff(newValue) {\n            if (this.$refs.listTitle) {\n                var diffY = newValue > 0 && newValue < LIST_TOP_TITLE_HEIGHT ? newValue - LIST_TOP_TITLE_HEIGHT : 0;\n                this.$refs.listTitle.style.webkitTransform = 'translateY(' + diffY + 'px)';\n            }\n        }\n    },\n    components: {\n        Scroll: __WEBPACK_IMPORTED_MODULE_3_components_Scroll___default.a,\n        Loading: __WEBPACK_IMPORTED_MODULE_4_components_Loading___default.a\n    }\n});\n\n/***/ }),\n\n/***/ 563:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(521)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".singer[data-v-74fbf022]{position:fixed;top:88px;bottom:0;width:100%}.singer-item[data-v-74fbf022]{padding-bottom:3rem}.singer-item-index[data-v-74fbf022]{height:30px;line-height:30px;padding-left:2rem;font-size:1.2rem;color:hsla(0,0%,100%,.5);background-color:#333}.singer-item-list-item .item-link[data-v-74fbf022],.singer-item-list-item[data-v-74fbf022]{display:-webkit-box;display:-ms-flexbox;display:flex}.singer-item-list-item .item-link[data-v-74fbf022]{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:2rem 0 0 3rem;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.singer-item-list-item .item-avatar[data-v-74fbf022]{width:5rem;height:5rem;border-radius:50%}.singer-item-list-item .item-name[data-v-74fbf022]{margin-left:2rem;color:hsla(0,0%,100%,.5);font-size:1.4rem}.singer-list-title[data-v-74fbf022]{position:absolute;top:0;left:0;width:100%;height:30px;line-height:30px;padding-left:2rem;font-size:1.2rem;color:hsla(0,0%,100%,.5);background-color:#333}.singer-alphabetlist[data-v-74fbf022]{position:fixed;top:50%;right:0;z-index:100;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:2rem;padding:2rem 0;border-radius:1rem;text-align:center;background-color:rgba(0,0,0,.3);font-family:Helvetica}.singer-alphabetlist-item[data-v-74fbf022]{padding:.3rem;line-height:1;color:hsla(0,0%,100%,.5);font-size:1.2rem}.singer-alphabetlist-item.current[data-v-74fbf022]{color:#ffcd32}\", \"\", {\"version\":3,\"sources\":[\"/Users/xiaolong/Documents/Github/vue-music/src/containers/singer/index.vue\"],\"names\":[],\"mappings\":\"AACA,yBACE,eAAgB,AAChB,SAAU,AACV,SAAU,AACV,UAAY,CACb,AACD,8BACI,mBAAqB,CACxB,AACD,oCACM,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,iBAAkB,AAClB,yBAAgC,AAChC,qBAAuB,CAC5B,AAMD,2FAJM,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CAanB,AAXD,mDACQ,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,sBAAuB,AAIvB,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CACnC,AACD,qDACQ,WAAY,AACZ,YAAa,AACb,iBAAmB,CAC1B,AACD,mDACQ,iBAAkB,AAClB,yBAAgC,AAChC,gBAAkB,CACzB,AACD,oCACI,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,iBAAkB,AAClB,yBAAgC,AAChC,qBAAuB,CAC1B,AACD,sCACI,eAAgB,AAChB,QAAS,AACT,QAAS,AACT,YAAa,AACb,mCAAoC,AAC5B,2BAA4B,AACpC,WAAY,AACZ,eAAgB,AAChB,mBAAoB,AACpB,kBAAmB,AACnB,gCAAqC,AACrC,qBAAuB,CAC1B,AACD,2CACM,cAAe,AACf,cAAe,AACf,yBAAgC,AAChC,gBAAkB,CACvB,AACD,mDACQ,aAAe,CACtB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.singer[data-v-74fbf022] {\\n  position: fixed;\\n  top: 88px;\\n  bottom: 0;\\n  width: 100%;\\n}\\n.singer-item[data-v-74fbf022] {\\n    padding-bottom: 3rem;\\n}\\n.singer-item-index[data-v-74fbf022] {\\n      height: 30px;\\n      line-height: 30px;\\n      padding-left: 2rem;\\n      font-size: 1.2rem;\\n      color: rgba(255, 255, 255, 0.5);\\n      background-color: #333;\\n}\\n.singer-item-list-item[data-v-74fbf022] {\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n}\\n.singer-item-list-item .item-link[data-v-74fbf022] {\\n        -webkit-box-flex: 1;\\n            -ms-flex: 1;\\n                flex: 1;\\n        padding: 2rem 0 0 3rem;\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n        display: flex;\\n        -webkit-box-align: center;\\n            -ms-flex-align: center;\\n                align-items: center;\\n}\\n.singer-item-list-item .item-avatar[data-v-74fbf022] {\\n        width: 5rem;\\n        height: 5rem;\\n        border-radius: 50%;\\n}\\n.singer-item-list-item .item-name[data-v-74fbf022] {\\n        margin-left: 2rem;\\n        color: rgba(255, 255, 255, 0.5);\\n        font-size: 1.4rem;\\n}\\n.singer-list-title[data-v-74fbf022] {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 30px;\\n    line-height: 30px;\\n    padding-left: 2rem;\\n    font-size: 1.2rem;\\n    color: rgba(255, 255, 255, 0.5);\\n    background-color: #333;\\n}\\n.singer-alphabetlist[data-v-74fbf022] {\\n    position: fixed;\\n    top: 50%;\\n    right: 0;\\n    z-index: 100;\\n    -webkit-transform: translateY(-50%);\\n            transform: translateY(-50%);\\n    width: 2rem;\\n    padding: 2rem 0;\\n    border-radius: 1rem;\\n    text-align: center;\\n    background-color: rgba(0, 0, 0, 0.3);\\n    font-family: Helvetica;\\n}\\n.singer-alphabetlist-item[data-v-74fbf022] {\\n      padding: .3rem;\\n      line-height: 1;\\n      color: rgba(255, 255, 255, 0.5);\\n      font-size: 1.2rem;\\n}\\n.singer-alphabetlist-item.current[data-v-74fbf022] {\\n        color: #ffcd32;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 573:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(563);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(522)(\"0f366ae8\", content, true);\n\n/***/ }),\n\n/***/ 589:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"singer\"\n  }, [_c('scroll', {\n    ref: \"singerScroll\",\n    attrs: {\n      \"data\": _vm.singerList,\n      \"listenScroll\": true,\n      \"probeType\": 3\n    },\n    on: {\n      \"onScroll\": _vm.handleScroll\n    }\n  }, [_c('ul', _vm._l((_vm.singerList), function(singer, index) {\n    return _c('li', {\n      key: index,\n      ref: \"listGroup\",\n      refInFor: true,\n      staticClass: \"singer-item\"\n    }, [_c('h3', {\n      staticClass: \"singer-item-index\"\n    }, [_vm._v(_vm._s(singer.title))]), _vm._v(\" \"), _c('ul', {\n      staticClass: \"singer-item-list\"\n    }, _vm._l((singer.items), function(item, index) {\n      return _c('li', {\n        key: index,\n        staticClass: \"singer-item-list-item\",\n        on: {\n          \"click\": function($event) {\n            _vm.setCurrentSinger(item)\n          }\n        }\n      }, [_c('router-link', {\n        staticClass: \"item-link\",\n        attrs: {\n          \"to\": (\"/singer/\" + (item.id))\n        }\n      }, [_c('img', {\n        directives: [{\n          name: \"lazy\",\n          rawName: \"v-lazy\",\n          value: (item.avatar),\n          expression: \"item.avatar\"\n        }],\n        staticClass: \"item-avatar\"\n      }), _vm._v(\" \"), _c('span', {\n        staticClass: \"item-name\"\n      }, [_vm._v(_vm._s(item.name))])])], 1)\n    }))])\n  }))]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"singer-alphabetlist\",\n    on: {\n      \"touchstart\": _vm.handleTouchStart,\n      \"touchmove\": function($event) {\n        $event.stopPropagation();\n        $event.preventDefault();\n        _vm.handleTouchMove($event)\n      }\n    }\n  }, _vm._l((_vm.alphabetName), function(item, index) {\n    return _c('li', {\n      key: index,\n      class: ['singer-alphabetlist-item', {\n        'current': _vm.currentIndex === index\n      }],\n      attrs: {\n        \"data-index\": index\n      }\n    }, [_vm._v(\"\\n            \" + _vm._s(item) + \"\\n        \")])\n  })), _vm._v(\" \"), (_vm.listTopTitle) ? _c('div', {\n    ref: \"listTitle\",\n    staticClass: \"singer-list-title\"\n  }, [_vm._v(_vm._s(_vm.listTopTitle))]) : _vm._e(), _vm._v(\" \"), (_vm.singerList.length === 0) ? _c('Loading') : _vm._e(), _vm._v(\" \"), _c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.dc67d1d64917b3798611.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-74fbf022\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-74fbf022\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-74fbf022\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/singer/index.vue\n// module id = 528\n// module chunks = 4","<template>\n    <section class=\"singer\">\n        <scroll ref=\"singerScroll\" @onScroll=\"handleScroll\" :data=\"singerList\" :listenScroll=\"true\" :probeType=\"3\">\n            <ul>\n                <li class=\"singer-item\" v-for=\"(singer, index) in singerList\" :key=\"index\" ref=\"listGroup\">\n                    <h3 class=\"singer-item-index\">{{singer.title}}</h3>\n                    <ul class=\"singer-item-list\">\n                        <li class=\"singer-item-list-item\" v-for=\"(item, index) in singer.items\" :key=\"index\" @click=\"setCurrentSinger(item)\">\n                            <router-link :to=\"`/singer/${item.id}`\" class=\"item-link\">\n                                <img class=\"item-avatar\" v-lazy=\"item.avatar\">\n                                <span class=\"item-name\">{{item.name}}</span>\n                            </router-link>\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n        </scroll>\n        <ul class=\"singer-alphabetlist\" @touchstart=\"handleTouchStart\" @touchmove.stop.prevent=\"handleTouchMove\">\n            <li v-for=\"(item, index) in alphabetName\" :class=\"['singer-alphabetlist-item', {'current': currentIndex === index}]\" :key=\"index\" :data-index=\"index\">\n                {{ item }}\n            </li>\n        </ul>\n        <div class=\"singer-list-title\" v-if=\"listTopTitle\" ref=\"listTitle\">{{ listTopTitle }}</div>\n        <Loading v-if=\"singerList.length === 0\"></Loading>\n        <router-view></router-view>\n    </section>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport { mapGetters, mapActions, mapMutations } from 'vuex'\nimport Scroll from 'components/Scroll'\nimport Loading from 'components/Loading'\n\nconst ALPHABET_ITEM_HEIGHT = 18\nconst LIST_TOP_TITLE_HEIGHT = 30\n\nexport default {\n    data() {\n        return {\n            currentIndex: 0,\n            scrollY: 0,\n            listTitleDiff: 0,\n            listGroupHeight: []\n        }\n    },\n    created() {\n        this.touches = {}\n    },\n    mounted() {\n        this.fetchSingerList()\n    },\n    computed: {\n        alphabetName() {\n            return this.singerList.map(item => item.title.slice(0, 1))\n        },\n        listTopTitle() {\n            if (this.scrollY < 0) {\n                return\n            }\n            return this.singerList[this.currentIndex] && this.singerList[this.currentIndex].title\n        },\n        ...mapGetters([\n            'singerList'\n        ])\n    },\n    methods: {\n        handleTouchStart(e) {\n            this.touches.startIndex = parseInt(e.target.dataset.index)\n            this.touches.startY = e.touches[0].pageY\n            this.currentIndex = this.touches.startIndex\n            this._scrollToElement()\n        },\n        handleTouchMove(e) {\n            const moveY = Math.floor((e.touches[0].pageY - this.touches.startY) / ALPHABET_ITEM_HEIGHT)\n            let changeIndex = this.touches.startIndex + moveY\n\n            if (changeIndex < 0) {\n                changeIndex = 0\n            } else if (changeIndex > this.singerList.length - 1) {\n                changeIndex = this.singerList.length - 1\n            }\n\n            this.currentIndex = changeIndex\n            this._scrollToElement()\n        },\n        handleScroll(pos) {\n            this.scrollY = -pos.y\n        },\n        setCurrentSinger(singerItem) {\n            this.setCurrentSinger(singerItem)\n        },\n        _scrollToElement() {\n            const targetDOM = this.$refs.listGroup[this.currentIndex]\n            this.$refs.singerScroll.scrollToElement(targetDOM, 0)\n        },\n        _calculateHeight() {\n            let height = 0\n            let _listGroupHeight = [0];\n\n            [...this.$refs.listGroup].map(item => {\n                height = height + item.clientHeight\n                _listGroupHeight.push(height)\n            })\n            this.listGroupHeight = _listGroupHeight\n        },\n        ...mapActions([\n            'fetchSingerList'\n        ]),\n        ...mapMutations({\n            setCurrentSinger: 'SET_CURRENT_SINGER'\n        })\n    },\n    watch: {\n        singerList() {\n            this.$nextTick(() => {\n                this._calculateHeight()\n            })\n        },\n        scrollY() {\n            for (let i = 0, len = this.listGroupHeight.length; i < len; i++) {\n                const height1 = this.listGroupHeight[i]\n                const height2 = this.listGroupHeight[i + 1]\n\n                if (this.scrollY >= height1 && this.scrollY < height2) {\n                    this.currentIndex = i\n                    this.listTitleDiff = height2 - this.scrollY\n                    break\n                }\n            }\n        },\n        listTitleDiff(newValue) {\n            if (this.$refs.listTitle) {\n                let diffY = newValue > 0 && newValue < LIST_TOP_TITLE_HEIGHT ? newValue - LIST_TOP_TITLE_HEIGHT : 0\n                this.$refs.listTitle.style.webkitTransform = `translateY(${diffY}px)`\n            }\n        }\n    },\n    components: {\n        Scroll,\n        Loading\n    }\n}\n\n</script>\n\n<style scoped lang=\"scss\">\n@import './style';\n</style>\n\n\n// WEBPACK FOOTER //\n// index.vue?7e8205b7","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".singer[data-v-74fbf022]{position:fixed;top:88px;bottom:0;width:100%}.singer-item[data-v-74fbf022]{padding-bottom:3rem}.singer-item-index[data-v-74fbf022]{height:30px;line-height:30px;padding-left:2rem;font-size:1.2rem;color:hsla(0,0%,100%,.5);background-color:#333}.singer-item-list-item .item-link[data-v-74fbf022],.singer-item-list-item[data-v-74fbf022]{display:-webkit-box;display:-ms-flexbox;display:flex}.singer-item-list-item .item-link[data-v-74fbf022]{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:2rem 0 0 3rem;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.singer-item-list-item .item-avatar[data-v-74fbf022]{width:5rem;height:5rem;border-radius:50%}.singer-item-list-item .item-name[data-v-74fbf022]{margin-left:2rem;color:hsla(0,0%,100%,.5);font-size:1.4rem}.singer-list-title[data-v-74fbf022]{position:absolute;top:0;left:0;width:100%;height:30px;line-height:30px;padding-left:2rem;font-size:1.2rem;color:hsla(0,0%,100%,.5);background-color:#333}.singer-alphabetlist[data-v-74fbf022]{position:fixed;top:50%;right:0;z-index:100;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:2rem;padding:2rem 0;border-radius:1rem;text-align:center;background-color:rgba(0,0,0,.3);font-family:Helvetica}.singer-alphabetlist-item[data-v-74fbf022]{padding:.3rem;line-height:1;color:hsla(0,0%,100%,.5);font-size:1.2rem}.singer-alphabetlist-item.current[data-v-74fbf022]{color:#ffcd32}\", \"\", {\"version\":3,\"sources\":[\"/Users/xiaolong/Documents/Github/vue-music/src/containers/singer/index.vue\"],\"names\":[],\"mappings\":\"AACA,yBACE,eAAgB,AAChB,SAAU,AACV,SAAU,AACV,UAAY,CACb,AACD,8BACI,mBAAqB,CACxB,AACD,oCACM,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,iBAAkB,AAClB,yBAAgC,AAChC,qBAAuB,CAC5B,AAMD,2FAJM,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CAanB,AAXD,mDACQ,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,sBAAuB,AAIvB,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CACnC,AACD,qDACQ,WAAY,AACZ,YAAa,AACb,iBAAmB,CAC1B,AACD,mDACQ,iBAAkB,AAClB,yBAAgC,AAChC,gBAAkB,CACzB,AACD,oCACI,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,iBAAkB,AAClB,yBAAgC,AAChC,qBAAuB,CAC1B,AACD,sCACI,eAAgB,AAChB,QAAS,AACT,QAAS,AACT,YAAa,AACb,mCAAoC,AAC5B,2BAA4B,AACpC,WAAY,AACZ,eAAgB,AAChB,mBAAoB,AACpB,kBAAmB,AACnB,gCAAqC,AACrC,qBAAuB,CAC1B,AACD,2CACM,cAAe,AACf,cAAe,AACf,yBAAgC,AAChC,gBAAkB,CACvB,AACD,mDACQ,aAAe,CACtB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.singer[data-v-74fbf022] {\\n  position: fixed;\\n  top: 88px;\\n  bottom: 0;\\n  width: 100%;\\n}\\n.singer-item[data-v-74fbf022] {\\n    padding-bottom: 3rem;\\n}\\n.singer-item-index[data-v-74fbf022] {\\n      height: 30px;\\n      line-height: 30px;\\n      padding-left: 2rem;\\n      font-size: 1.2rem;\\n      color: rgba(255, 255, 255, 0.5);\\n      background-color: #333;\\n}\\n.singer-item-list-item[data-v-74fbf022] {\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n}\\n.singer-item-list-item .item-link[data-v-74fbf022] {\\n        -webkit-box-flex: 1;\\n            -ms-flex: 1;\\n                flex: 1;\\n        padding: 2rem 0 0 3rem;\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n        display: flex;\\n        -webkit-box-align: center;\\n            -ms-flex-align: center;\\n                align-items: center;\\n}\\n.singer-item-list-item .item-avatar[data-v-74fbf022] {\\n        width: 5rem;\\n        height: 5rem;\\n        border-radius: 50%;\\n}\\n.singer-item-list-item .item-name[data-v-74fbf022] {\\n        margin-left: 2rem;\\n        color: rgba(255, 255, 255, 0.5);\\n        font-size: 1.4rem;\\n}\\n.singer-list-title[data-v-74fbf022] {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 30px;\\n    line-height: 30px;\\n    padding-left: 2rem;\\n    font-size: 1.2rem;\\n    color: rgba(255, 255, 255, 0.5);\\n    background-color: #333;\\n}\\n.singer-alphabetlist[data-v-74fbf022] {\\n    position: fixed;\\n    top: 50%;\\n    right: 0;\\n    z-index: 100;\\n    -webkit-transform: translateY(-50%);\\n            transform: translateY(-50%);\\n    width: 2rem;\\n    padding: 2rem 0;\\n    border-radius: 1rem;\\n    text-align: center;\\n    background-color: rgba(0, 0, 0, 0.3);\\n    font-family: Helvetica;\\n}\\n.singer-alphabetlist-item[data-v-74fbf022] {\\n      padding: .3rem;\\n      line-height: 1;\\n      color: rgba(255, 255, 255, 0.5);\\n      font-size: 1.2rem;\\n}\\n.singer-alphabetlist-item.current[data-v-74fbf022] {\\n        color: #ffcd32;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-74fbf022\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/containers/singer/index.vue\n// module id = 563\n// module chunks = 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-74fbf022\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"0f366ae8\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-74fbf022\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/containers/singer/index.vue\n// module id = 573\n// module chunks = 4","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"singer\"\n  }, [_c('scroll', {\n    ref: \"singerScroll\",\n    attrs: {\n      \"data\": _vm.singerList,\n      \"listenScroll\": true,\n      \"probeType\": 3\n    },\n    on: {\n      \"onScroll\": _vm.handleScroll\n    }\n  }, [_c('ul', _vm._l((_vm.singerList), function(singer, index) {\n    return _c('li', {\n      key: index,\n      ref: \"listGroup\",\n      refInFor: true,\n      staticClass: \"singer-item\"\n    }, [_c('h3', {\n      staticClass: \"singer-item-index\"\n    }, [_vm._v(_vm._s(singer.title))]), _vm._v(\" \"), _c('ul', {\n      staticClass: \"singer-item-list\"\n    }, _vm._l((singer.items), function(item, index) {\n      return _c('li', {\n        key: index,\n        staticClass: \"singer-item-list-item\",\n        on: {\n          \"click\": function($event) {\n            _vm.setCurrentSinger(item)\n          }\n        }\n      }, [_c('router-link', {\n        staticClass: \"item-link\",\n        attrs: {\n          \"to\": (\"/singer/\" + (item.id))\n        }\n      }, [_c('img', {\n        directives: [{\n          name: \"lazy\",\n          rawName: \"v-lazy\",\n          value: (item.avatar),\n          expression: \"item.avatar\"\n        }],\n        staticClass: \"item-avatar\"\n      }), _vm._v(\" \"), _c('span', {\n        staticClass: \"item-name\"\n      }, [_vm._v(_vm._s(item.name))])])], 1)\n    }))])\n  }))]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"singer-alphabetlist\",\n    on: {\n      \"touchstart\": _vm.handleTouchStart,\n      \"touchmove\": function($event) {\n        $event.stopPropagation();\n        $event.preventDefault();\n        _vm.handleTouchMove($event)\n      }\n    }\n  }, _vm._l((_vm.alphabetName), function(item, index) {\n    return _c('li', {\n      key: index,\n      class: ['singer-alphabetlist-item', {\n        'current': _vm.currentIndex === index\n      }],\n      attrs: {\n        \"data-index\": index\n      }\n    }, [_vm._v(\"\\n            \" + _vm._s(item) + \"\\n        \")])\n  })), _vm._v(\" \"), (_vm.listTopTitle) ? _c('div', {\n    ref: \"listTitle\",\n    staticClass: \"singer-list-title\"\n  }, [_vm._v(_vm._s(_vm.listTopTitle))]) : _vm._e(), _vm._v(\" \"), (_vm.singerList.length === 0) ? _c('Loading') : _vm._e(), _vm._v(\" \"), _c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-74fbf022\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/containers/singer/index.vue\n// module id = 589\n// module chunks = 4"],"sourceRoot":""}